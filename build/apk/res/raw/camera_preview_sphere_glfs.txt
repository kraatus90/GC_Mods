#extension GL_OES_EGL_image_external : require
precision highp float;
uniform mat4 u_STMatrix;
varying vec4 v_SpherePosition;
varying vec2 v_TextureCoord;
uniform samplerExternalOES u_Texture;
uniform float u_Alpha;
void main() {
    if (any(greaterThan(abs(v_SpherePosition.xy / v_SpherePosition.ww), vec2(1.0f, 1.0f)))) discard;
    vec4 wrappedTextureCoord = u_STMatrix * vec4(fract(v_TextureCoord), 0.0f, 1.0f);
    gl_FragColor = texture2D(u_Texture, wrappedTextureCoord.xy) * u_Alpha;
}
